<html>
  <head>
    <link rel="stylesheet" type="text/css" href="exp.css"></link>
  </head>
  <body>
    <div id="container"></div>
      <div id="buttons">
        <button id="yearly" onClick="changeTimesPerYear(1)">Yearly</button>
        <button id="monthly" onClick="changeTimesPerYear(12)">Monthly</button>
        <button id="daily" onClick="changeTimesPerYear(365)">Daily</button>
        <button id="continous" onClick="changeTimesPerYear(0)">Continuously</button>

    </div>
    <div id="interest">
      <span id="display">Interest Rate</span>
      <input type="range" min="=0.01" max="1" value="0.05" step="0.00001" onChange="changeRate(this.value);"></input>
      <span id="rate">5%</span>
    </div>

    <script type="text/javascript" src="flotr2.js"></script>

    <script type="text/javascript">
        var
          container = document.getElementById('container'),
          data, graph,t, years, rate, timesPerYear;


        function draw () {

          data = [];
          years = 10;

          // Sample the exponential function
          for (t = 0; t < years; t += 0.01) {
            data.push([t, interest(timesPerYear, t, rate)]);
          }

          // Draw Graph
          graph = Flotr.draw(container, [ data ], {
            yaxis: {
              max: 1600
            },
            xaxis: {
              title: "Growth after 10 years: $" + Math.round(interest(timesPerYear, 10, rate)*100)/100
            },
            mouse: {
              track: true,
              relative: true
            },
            title: "Exponential Growth"
          });

        }

        function changeTimesPerYear(n){
          if(n >= 0){
            timesPerYear = n;
          }
          draw();
        }

        function changeRate(newRate) {
          if(newRate <= 0){
            rate = 0.001;
          } else if(newRate > 1){
            rate = 1
          } else {
            rate = newRate;
          }
          display = (rate*100).toFixed(2);
          document.getElementById("rate").innerHTML=display+ "%";
          draw();            
            //alert("Rate must be between 1% and 100%");
        }

        function interest(n, i, rate){
          if(n==0){
            //var temp = 1000*Math.pow(Math.E, rate*i);
            return 1000*Math.pow(Math.E, rate*i);
            //return temp;
          }
          //var temp = 1000*Math.pow(1+(rate/n), n*i);
          return 1000*Math.pow(1+(rate/n), n*i);
          //return temp;
        }

	      rate = 0.05;
        timesPerYear = 1;
        draw();

  </script>
  </body>
</html>

