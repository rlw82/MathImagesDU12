<html>
  <head>
    <style type="text/css">
      body {
        margin: 0px;
        padding: 0px;
      }
      #container {
        width : 600px;
        height: 384px;
        margin: 8px auto;
      }

     #buttons {
      width: 600px;
      height: 100px;                  
      margin-left: auto;
      margin-right: auto;
     }

    #rateSelector {
      width: 600px;
      height: 100px;
      margin-left: auto;
      margin-right:auto;
    }

    #display {
      width: 600px;
      height: 100px;
      position: relative;
      margin-left: auto;
      margin-right: auto;
    }

     button {
        display: inline-block;
        background: #393939;
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#565656), color-stop(100%,#2a2a2a));
        background: -moz-linear-gradient(center top, #565656 0%, #2a2a2a 100%);
        -webkit-border-radius: 5px;
        -moz-border-radius: 5px;
        border-radius: 5px;
        padding: 5px 15px;
        display: inline-block;
        border-color: #000000;
        border-width: 1px;
        border-style: solid;
        font-family: Arial;
        font-size: 12px;
        color: #ffffff;
        font-weight: bold;
     }

    button:hover {
        background: #486816;
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#6d921f), color-stop(100%,#335111));
        background: -moz-linear-gradient(center top, #6d921f 0%, #335111 100%);
    }

    input[type='range'] {
        display: inline-block;
        background: #393939;
        background: -moz-linear-gradient(center top, #565656 0%, #2a2a2a 100%);
        background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#565656), color-stop(100%,#2a2a2a));
        -webkit-border-radius: 5px;
        -moz-border-radius: 5px;
        border-radius: 5px;
        padding: 5px 5px;
        display: inline-block;
        border-color: #000000;
        border-width: 1px;
        border-style: solid;
        font-family: Arial;
        font-size: 12px;
        color: #ffffff;
        font-weight: bold;
    }

    </style>
  </head>
  <body>
    <div id="container"></div>
      <span id="display">Interest Rate</span>
      <div id="buttons">

        <button id="yearly" onClick="changeTimesPerYear(1)">Yearly</button>
        <button id="monthly" onClick="changeTimesPerYear(12)">Monthly</button>
        <button id="daily" onClick="changeTimesPerYear(365)">Daily</button>
        <button id="continous" onClick="changeTimesPerYear(0)">Continuously</button>
        <input type="range" min="=0.01" max="1" value="0.05" step="0.00001" onChange="changeRate(this.value);"></input>
        <span id="rate">5%</span>
    </div>

    <script type="text/javascript" src="flotr2.js"></script>

    <script type="text/javascript">
        var
          container = document.getElementById('container'),
          data, graph,t, years, rate, timesPerYear;


        function draw () {

          data = [];
          years = 10;

          // Sample the exponential function
          for (t = 0; t < years; t += 0.01) {
            data.push([t, interest(timesPerYear, t, rate)]);
          }

          // Draw Graph
          graph = Flotr.draw(container, [ data ], {
            yaxis: {
              max: 1600
            },
            xaxis: {
              title: "Growth after 10 years: $" + Math.round(interest(timesPerYear, 10, rate)*100)/100
            },
            mouse: {
              track: true,
              relative: true
            },
            title: "Exponential Growth"
          });

        }

        function changeTimesPerYear(n){
          if(n >= 0){
            timesPerYear = n;
          }
          draw();
        }

        function changeRate(newRate) {
          if(newRate <= 0){
            rate = 0.001;
          } else if(newRate > 1){
            rate = 1
          } else {
            rate = newRate;
          }
          display = (rate*100).toFixed(2);
          document.getElementById("rate").innerHTML=display+ "%";
          draw();            
            //alert("Rate must be between 1% and 100%");
        }

        function interest(n, i, rate){
          if(n==0){
            //var temp = 1000*Math.pow(Math.E, rate*i);
            return 1000*Math.pow(Math.E, rate*i);
            //return temp;
          }
          //var temp = 1000*Math.pow(1+(rate/n), n*i);
          return 1000*Math.pow(1+(rate/n), n*i);
          //return temp;
        }

	      rate = 0.05;
        timesPerYear = 1;
        draw();

  </script>
  </body>
</html>

